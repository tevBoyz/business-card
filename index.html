<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Business Cards</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e6e6e6;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .card {
      background: #fff;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 4px 25px rgba(0,0,0,0.15);
      width: 350px;
      text-align: left;
      border: 1px solid #ddd;
    }
    h2 {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #000;
    }
    .info {
      margin: 8px 0;
      cursor: pointer;
      font-size: 16px;
      color: #333;
    }
    a {
      color: #333;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .download-btn {
      margin-top: 30px;
      background: #1b4b8b;
      color: #fff;
      border: none;
      padding: 12px 18px;
      border-radius: 10px;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
    }
    @media (max-width: 480px) {
  .card {
    width: 90%;
    padding: 25px;
    margin: 15px;
  }

  .card img {
    width: 80px !important;
  }

  h2 {
    font-size: 18px;
  }

  .info {
    font-size: 14px;
  }

  .download-btn {
    width: 90% !important;
    font-size: 14px;
  }
}

  </style>
</head>
<body>
  <div class="card" id="card">
    <div style="display:flex; justify-content:space-between; align-items:flex-start;">
      <div>
        <h2 id="person-name"></h2>
        <div class="info" id="person-phone"></div>
        <div class="info" id="person-email"></div>
        <div class="info"><a target="_blank" href="https://www.spiralytix.com">https://www.spiralytix.com</a></div>
      </div>
      <img src="SPX.png" alt="Logo" style="width:90px; margin-left:15px; margin-top: 20px;">
    </div>
  </div>

  <button class="download-btn" onclick="downloadCard()" style="width:350px; margin-top:20px;">Download Card</button>

  <script>
    const people = { person1: { name: "Mr Omar Bagersh", phone: "+251911200069", email: "ob@spiralytix.com" }, person2: { name: "Mr Ponappa Ajjikuttira", phone: "+251962181425", email: "ap@spiralytix.com" }, person3: { name: "Mr Yodahe Kifle", phone: "+251911222142", email: "yk@spiralytix.com" } };

    const params = new URLSearchParams(window.location.search);
    const id = params.get("id") || "person1";
    const person = people[id];

    const card = document.getElementById("card");

    document.getElementById("person-name").textContent = person.name;
      document.getElementById("person-phone").innerHTML = `üìû <span onclick=\"copyPhone('${person.phone}')\">${person.phone}</span>`;
      document.getElementById("person-email").innerHTML = `<a href=\"mailto:${person.email}\">‚úâÔ∏è ${person.email}</a>`;

    function copyPhone(phone) {
      navigator.clipboard.writeText(phone);
      alert("Phone number copied!");
    }

    function downloadCard() {
      // Use html2canvas to capture the card
      html2canvas(document.getElementById("card")).then(canvas => {
        const link = document.createElement("a");
        link.download = `${person.name.replace(/ /g, "_")}_card.png`;
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function downloadTextCard() {
      const text = `Name: ${person.name}\nPhone: ${person.phone}\nEmail: ${person.email}`;
      const blob = new Blob([text], { type: "text/plain" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = `${person.name.replace(/ /g, "_")}_card.txt`;
      link.click();
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
